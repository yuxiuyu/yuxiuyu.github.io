<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NSD(Network Service Descriptor)</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.29a2c3e4.css" as="style"><link rel="preload" href="/assets/js/app.131032e6.js" as="script"><link rel="preload" href="/assets/js/2.f5d61f7a.js" as="script"><link rel="preload" href="/assets/js/4.21fd4293.js" as="script"><link rel="prefetch" href="/assets/js/10.268a6dc6.js"><link rel="prefetch" href="/assets/js/11.4c0a7bab.js"><link rel="prefetch" href="/assets/js/12.19d2a09e.js"><link rel="prefetch" href="/assets/js/13.f29b8039.js"><link rel="prefetch" href="/assets/js/14.c835afd8.js"><link rel="prefetch" href="/assets/js/15.a6fef53e.js"><link rel="prefetch" href="/assets/js/16.5b23cf45.js"><link rel="prefetch" href="/assets/js/17.f4ba404d.js"><link rel="prefetch" href="/assets/js/18.b0515cd3.js"><link rel="prefetch" href="/assets/js/19.4381408a.js"><link rel="prefetch" href="/assets/js/20.6a06c534.js"><link rel="prefetch" href="/assets/js/21.1081aac1.js"><link rel="prefetch" href="/assets/js/22.ee46aed0.js"><link rel="prefetch" href="/assets/js/23.120810af.js"><link rel="prefetch" href="/assets/js/24.8ec3230d.js"><link rel="prefetch" href="/assets/js/25.9320bb42.js"><link rel="prefetch" href="/assets/js/26.977132c8.js"><link rel="prefetch" href="/assets/js/3.597a5b31.js"><link rel="prefetch" href="/assets/js/5.139dcb5b.js"><link rel="prefetch" href="/assets/js/6.b6cf2c13.js"><link rel="prefetch" href="/assets/js/7.c0fd1940.js"><link rel="prefetch" href="/assets/js/8.6a61df00.js"><link rel="prefetch" href="/assets/js/9.b32a6e74.js">
    <link rel="stylesheet" href="/assets/css/0.styles.29a2c3e4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/reference/" class="nav-link router-link-active">
  Reference
</a></div><div class="nav-item"><a href="https://osm.etsi.org/docs/user-guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OSM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/reference/" class="nav-link router-link-active">
  Reference
</a></div><div class="nav-item"><a href="https://osm.etsi.org/docs/user-guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OSM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/" class="sidebar-heading clickable router-link-active open"><span>文档</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/reference/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/reference/cloud/" class="sidebar-link">CLOUD简介</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/reference/osm/" class="sidebar-heading clickable router-link-active open"><span>OSM简介</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/reference/osm/model/" class="sidebar-heading clickable router-link-active open"><span>OSM模型解读</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/reference/osm/model/descriptor/NSD.html" aria-current="page" class="active sidebar-link">NSD(Network Service Descriptor)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/reference/osm/model/descriptor/NSD.html#constituent-vnfd" class="sidebar-link">constituent-vnfd</a></li><li class="sidebar-sub-header"><a href="/reference/osm/model/descriptor/NSD.html#topology" class="sidebar-link">topology</a></li><li class="sidebar-sub-header"><a href="/reference/osm/model/descriptor/NSD.html#placement" class="sidebar-link">placement</a></li><li class="sidebar-sub-header"><a href="/reference/osm/model/descriptor/NSD.html#configuration" class="sidebar-link">configuration</a></li><li class="sidebar-sub-header"><a href="/reference/osm/model/descriptor/NSD.html#scale" class="sidebar-link">scale</a></li><li class="sidebar-sub-header"><a href="/reference/osm/model/descriptor/NSD.html#reference" class="sidebar-link">Reference</a></li></ul></li><li><a href="/reference/osm/model/descriptor/VNFD.html" class="sidebar-link">VNFD(VNF Descriptor)</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/reference/osm/ro/" class="sidebar-heading clickable"><span>RO模块</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/reference/osm/reference.html" class="sidebar-link">OSM参考文献</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nsd-network-service-descriptor"><a href="#nsd-network-service-descriptor" class="header-anchor">#</a> NSD(Network Service Descriptor)</h1> <p><code>NSD</code>描述了网络能力，它包括了多个方面的属性：<code>constituent-vnfd</code>、<code>topology</code>、<code>placement</code>、<code>configuration</code>和<code>scale</code>。</p> <p><img src="/assets/img/nsd.a41975fa.png" alt="NSD model"></p> <h2 id="constituent-vnfd"><a href="#constituent-vnfd" class="header-anchor">#</a> constituent-vnfd</h2> <p><code>NS</code>由多个<code>VNF</code>构成，NSD定义了网络服务描述符和组成该网络的VNF的描述符之间的关系。</p> <p><img src="/assets/img/constituent-vnfd.a0ac3ef1.png" alt="nsd::constituent-vnfd"></p> <p>其中，<code>NSD-VNF-DEPENDENCY</code>定义了vnf之间的依赖关系，它们决定了在创建网络服务实例时vnf的创建顺序。</p> <h2 id="topology"><a href="#topology" class="header-anchor">#</a> topology</h2> <p><code>topolocy</code>描述了网络能力的拓扑属性。</p> <p><img src="/assets/img/topology.efae1c3b.png" alt="nsd::topology"></p> <h3 id="nsd-vld-virtual-link-descriptor"><a href="#nsd-vld-virtual-link-descriptor" class="header-anchor">#</a> NSD-VLD(Virtual link descriptor)</h3> <p>描述网络内部VNF之间的虚拟链接（VIRTUAL LINK），</p> <h3 id="vnfd-connection-point"><a href="#vnfd-connection-point" class="header-anchor">#</a> VNFD::CONNECTION-POINT</h3> <p>描述VNF对外的连接点，用于连接其它VNF或者VL。</p> <h3 id="connection-point"><a href="#connection-point" class="header-anchor">#</a> CONNECTION-POINT</h3> <p>描述网络层面的对外连接点，用于连接其它网络。对外连接点的一侧连接到外部网络，另一侧则连接到内部的VNF或者VL。</p> <h3 id="vnffgd-vnf-forwarding-graph-descriptor"><a href="#vnffgd-vnf-forwarding-graph-descriptor" class="header-anchor">#</a> VNFFGD(VNF forwarding graph descriptor)</h3> <p>描述网络内部的数据转发关系。
每个转发关系是一张图，图由多个转发路径RSP（render service path）构成，而每个RSP则包含多个VNF以及VNF内部的转发规则。
这里有个简单的例子：</p> <div class="language- extra-class"><pre class="language-text"><code> +------------------------------------------------------+
 |                     Network Service                  |
 |                                                      |
 |                                                      |
 |                                                      |
 |         +-----------+             +-----------+      |
+++        |           |             |           |     +++
|C1--------P1  VNF1    |             |    VNF2   P4----+C2
+++        |           |             |           |     +++
 |         |           |             |           |      |
 |         +-----P2----+             +------P3---+      |
 |               |                          |           |
 |               |   +---------------+      |           |
 |               |   |               |      |           |
 |               +---&gt;      VLD1     +------+           |
 |                   +---------------+                  |
 +------------------------------------------------------+

</code></pre></div><p>在上面的图中，VNFFG只包含了一条路径：</p> <blockquote><p>C1 -&gt; VNF1(P1, P2) -&gt; VNF2(P3, P4) -&gt; C2</p></blockquote> <p>其中，C1和C2是网络服务的连接点，VNF1(P1, P2)和VNF2(P3, P4)分别是两个VNF内部的转发规则；P1-P4是VNF的连接点，一般对应到虚拟机的网卡/端口。</p> <p>VNF内部转发规则包含以下属性：</p> <table><thead><tr><th>attribute</th> <th>desc</th></tr></thead> <tbody><tr><td>member-vnf-index-ref</td> <td>负责转发的vnf</td></tr> <tr><td>order</td> <td>vnf在转发路径上的顺序</td></tr> <tr><td>vnfd-id-ref</td> <td>负责转发的vnf</td></tr> <tr><td>vnfd-ingress-connection-point-ref</td> <td>转发vnf的数据流入连接点</td></tr> <tr><td>vnfd-egress-connection-point-ref</td> <td>转发vnf的数据流出连接点</td></tr></tbody></table> <p>转发关系还包含了<code>classifer</code>，用于说明转发路径的数据匹配规则，比如：源IP地址，目标IP地址等，只有符合条件的数据包才会被转发到该路径上。</p> <p>这里有篇<a href="(https://www.telcocloudbridge.com/blog/beginners-guide-to-network-service-and-vnf-forwarding-graph-in-nfv/)">很好的文章</a>，可以帮助我们理解NFV中的转发图和路径概念。</p> <p>Openstack支持VNFFG的创建，可以参考<a href="https://specs.openstack.org/openstack/tacker-specs/specs/newton/tacker-vnffg.html" target="_blank" rel="noopener noreferrer">相关文章<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>了解细节。简单来说，
VNFFG被映射成Openstack中的<a href="https://docs.openstack.org/networking-sfc/ocata/" target="_blank" rel="noopener noreferrer">SFC<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</p> <blockquote><p>Service Function Chaining is a mechanism for overriding the basic destination based forwarding that is typical of IP networks. It is conceptually related to Policy Based Routing in physical networks but it is typically thought of as a Software Defined Networking technology. It is often used in conjunction with security functions although it may be used for a broader range of features. Fundamentally SFC is the ability to cause network packet flows to route through a network via a path other than the one that would be chosen by routing table lookups on the packet’s destination IP address. It is most commonly used in conjunction with Network Function Virtualization when recreating in a virtual environment a series of network functions that would have traditionally been implemented as a collection of physical network devices connected in series by cables.</p> <p>A very simple example of a service chain would be one that forces all traffic from point A to point B to go through a firewall even though the firewall is not literally between point A and B from a routing table perspective.</p> <p>A more complex example is an ordered series of functions, each implemented in multiple VMs, such that traffic must flow through one VM at each hop in the chain but the network uses a hashing algorithm to distribute different flows across multiple VMs at each hop.</p></blockquote> <p>另外，了解<a href="https://docs.openstack.org/newton/networking-guide/intro.html" target="_blank" rel="noopener noreferrer">Openstack对网络的支持<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>对我们理解网络服务的编排很有帮助。</p> <h2 id="placement"><a href="#placement" class="header-anchor">#</a> placement</h2> <p>网络服务中包含多个VNF，部署时有些VNF需要被放置到一个数据中心，有些VNF则需要分开部署。<code>placement</code>就是定义这些策略。</p> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> configuration</h2> <p><code>configuration</code>定义了如何配置网络服务。</p> <p><img src="/assets/img/configuration.17dc2d72.png" alt="nsd::configuration"></p> <p>NSD的配置由VCA-CONFiGURATION和VCA-RELATION两部门构成。</p> <blockquote><p><code>VCA</code>(VNF configuration and abstraction)是OSM特有的概念，在MANO规范中并不存在，OSM之所以引入VCA，是为了规范对VNF的配置管理。</p></blockquote> <h3 id="juju"><a href="#juju" class="header-anchor">#</a> juju</h3> <p>OSM主要使用juju完成ns和vnf的配置管理，所以这里的概念：比如原语、releation都来自于juju。所以要理解这些模型，最好去了解juju的基本概念。</p> <h3 id="vca-configuration"><a href="#vca-configuration" class="header-anchor">#</a> vca-configuration</h3> <p>vca-configuration定义了一组指令，这些指令由vnf厂商实现，可以在vnf生命周期内或者生命周期的特定阶段被调用。比如：initial-config-primitive就是在vnf
初始化阶段可以被调用的动作。</p> <p>此外，vca-configuration还包含了对vnf性能指标的说明。</p> <h3 id="vca-relation"><a href="#vca-relation" class="header-anchor">#</a> vca-relation</h3> <p>vca-relation定义了应用（网络服务）之间的关系，这些关系在应用的生命周期内可以被用于生成/获取配置。</p> <p>我们可以参看JUJU<a href="https://discourse.juju.is/t/implementing-relations/1051" target="_blank" rel="noopener noreferrer">提供的文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>进一步了解Relation的含义。</p> <h2 id="scale"><a href="#scale" class="header-anchor">#</a> scale</h2> <h2 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h2> <ul><li><p><a href="https://www.telcocloudbridge.com/blog/beginners-guide-to-network-service-and-vnf-forwarding-graph-in-nfv/" target="_blank" rel="noopener noreferrer">Beginner’s Guide to Network Service and VNF Forwarding Graph in NFV<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://specs.openstack.org/openstack/tacker-specs/specs/newton/tacker-vnffg.html" target="_blank" rel="noopener noreferrer">how vnffg is implemented in openstack<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.openstack.org/newton/networking-guide/config-sfc.html" target="_blank" rel="noopener noreferrer">sfc in openstack<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://www.mirantis.com/blog/which-nfv-orchestration-platform-best-review-osm-open-o-cord-cloudify/" target="_blank" rel="noopener noreferrer">comparison between osm and other solutinos<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/reference/cloud/" class="prev">
        CLOUD简介
      </a></span> <span class="next"><a href="/reference/osm/model/descriptor/VNFD.html">
        VNFD(VNF Descriptor)
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.131032e6.js" defer></script><script src="/assets/js/2.f5d61f7a.js" defer></script><script src="/assets/js/4.21fd4293.js" defer></script>
  </body>
</html>
